mads 2.1.0
Source: /Users/johan/Documents/workspace/CodeJam2021/src/savefuture.asm
     1 				;
     2 				; OLC CodeJam 2021- Save the Future
     3 				;
     4 				; For the Atari 8-bit computers (64kB needed)
     5 				;
     6 				; Coded by: sjfroos
     7 				;
     8 				; Adresses needed
     9 				;
    10 = D40B			VCOUNT=$d40b
    11 = D40A			WSYNC=$d40a
    12 = E462			XITVBV=$e462
    13 = D404			HSCRL=$d404
    14 = E45C			SETVBV=$e45c
    15 = 02C4			COLOR0=708
    16 = 02C5			COLOR1=709
    17 = 02C6			COLOR2=710
    18 = 02C7			COLOR3=711
    19 = 02C8			COLOR4=712
    20 = 02F4			CHBAS=756
    21 = D016			COLPF0=$d016
    22 = D017			COLPF1=$d017
    23 = D018			COLPF2=$d018
    24 = D019			COLPF3=$d019
    25 = D01A			COLBK=$d01a
    26 = D409			CHBASE=$d409
    27 = D40E			NMIEN=$d40e
    28 				;
    29 				; Start adress
    30 				;
    31 					org $2000
    32
    33 				;
    34 				; Init
    35 				;
    36
    37 				start
    38 				; 	Load display list
    39 FFFF> 2000-2039> A9 A3		lda #<dl
    40 2002 8D 30 02			sta $230
    41 2005 A9 20			lda #>dl
    42 2007 8D 31 02			sta $231
    43 					; wide playfield
    44 					;lda #35
    45 					;sta $22f
    46 200A A9 00			lda #0
    47 200C 8D 04 D4			sta HSCRL
    48
    49 					; Character set at $7000
    50 200F A9 70			lda #$70
    51 2011 8D F4 02			sta CHBAS
    52
    53 					; set colors
    54 					
    55 2014 A9 88			lda #$88
    56 2016 8D C8 02			sta COLOR4
    57
    58 2019 A9 09			lda #$09
    59 201B 8D C4 02			sta COLOR0
    60 					
    61 201E A9 0F			lda #$0f
    62 2020 8D C6 02			sta COLOR2 
    63
    64 2023 A9 06			lda #$06
    65 2025 8D C7 02			sta COLOR3
    66 					
    67 					; Set DLI
    68 2028 A9 3A			lda #<dli
    69 202A 8D 00 02			sta $200
    70 202D A9 20			lda #>dli
    71 202F 8D 01 02			sta $201
    72 2032 A9 CF			lda #$CF
    73 2034 8D 0E D4			sta $d40e
    74 					
    75
    76 2037 4C 37 20		stop	jmp stop	
    77
    78 				;
    79 02E0-02E1> 00 20			run start	
    80 				;
    81 				; VBI routine
    82 				;
    83
    84
    85 				;
    86 				; DLI Routines
    87 				;
    88 203A-20EE> 48		dli	pha
    89 203B A9 4E			lda #$4e
    90 203D 8D 0A D4			sta WSYNC
    91 2040 8D 1A D0			sta COLBK
    92 2043 A9 4F			lda #<dli2
    93 2045 8D 00 02			sta $200
    94 2048 A9 20			lda #>dli2
    95 204A 8D 01 02			sta $201
    96 204D 68				pla
    97 204E 40				rti
    98
    99 204F 48			dli2	pha
   100 2050 A9 4C			 	lda #$4c
   101 2052 8D 0A D4			 	sta WSYNC
   102 2055 8D 1A D0			 	sta COLBK
   103 2058 A9 64				lda #<dli3
   104 205A 8D 00 02				sta $200
   105 205D A9 20				lda #>dli3
   106 205F 8D 01 02				sta $201
   107 2062 68				 	pla 
   108 2063 40				 	rti
   109
   110 2064 48			dli3	pha
   111 2065 A9 4A			 	lda #$4a
   112 2067 8D 0A D4			 	sta WSYNC
   113 206A 8D 1A D0			 	sta COLBK
   114 206D A9 79				lda #<dli4
   115 206F 8D 00 02				sta $200
   116 2072 A9 20				lda #>dli4
   117 2074 8D 01 02				sta $201
   118 2077 68				 	pla 
   119 2078 40				 	rti
   120
   121 2079 48			dli4	pha
   122 207A A9 48			 	lda #$48
   123 207C 8D 0A D4			 	sta WSYNC
   124 207F 8D 1A D0			 	sta COLBK
   125 2082 A9 8E				lda #<dli5
   126 2084 8D 00 02				sta $200
   127 2087 A9 20				lda #>dli5
   128 2089 8D 01 02				sta $201
   129 208C 68				 	pla 
   130 208D 40				 	rti
   131
   132 208E 48			dli5	pha
   133 208F A9 D4			 	lda #$d4
   134 2091 8D 0A D4			 	sta WSYNC
   135 2094 8D 1A D0			 	sta COLBK
   136 2097 A9 3A				lda #<dli
   137 2099 8D 00 02				sta $200
   138 209C A9 20				lda #>dli
   139 209E 8D 01 02				sta $201
   140 20A1 68				 	pla 
   141 20A2 40				 	rti
   142
   143
   144 				;-----------------------------
   145 				; Data	
   146 				;-----------------------------
   147 				; Display List
   148 				;
   149 20A3				.local dl
   150 20A3 70				.byte $70
   151 20A4 45 00 40		lms00	.byte $45,$00,$40
   152 20A7 45 00 41		lms01	.byte $45,$00,$41
   153 20AA 44 00 42		lms02	.byte $44,$00,$42
   154 20AD 44 00 43		lms03	.byte $44,$00,$43
   155 20B0 44 00 44		lms04	.byte $44,$00,$44
   156 20B3 44 00 45		lms05	.byte $44,$00,$45
   157 20B6 E4 00 46		lms06	.byte $E4,$00,$46
   158 20B9 E4 00 47		lms07	.byte $E4,$00,$47
   159 20BC E4 00 48		lms08	.byte $E4,$00,$48
   160 20BF E4 00 49		lms09	.byte $E4,$00,$49
   161 20C2 E4 00 50		lms10	.byte $E4,$00,$50
   162 20C5 44 00 51		lms11	.byte $44,$00,$51
   163 20C8 44 00 52		lms12	.byte $44,$00,$52
   164 20CB 44 00 53		lms13	.byte $44,$00,$53
   165 20CE 44 00 54		lms14	.byte $44,$00,$54
   166 20D1 44 00 55		lms15	.byte $44,$00,$55
   167 20D4 44 00 56		lms16	.byte $44,$00,$56
   168 20D7 44 00 57		lms17	.byte $44,$00,$57
   169 20DA 44 00 58		lms18	.byte $44,$00,$58
   170 20DD 44 00 60		lms19	.byte $44,$00,$60
   171 20E0 44 00 61		lms20	.byte $44,$00,$61
   172 20E3 44 00 62		lms21	.byte $44,$00,$62
   173 20E6 44 00 63		lms22	.byte $44,$00,$63
   174 				;lms23	.byte $44,$00,$64
   175 20E9 47 00 65		txt		.byte $47,$00,$65
   176 20EC 41 A3 20				.byte $41,a(dl)
   177 					.endl
   178 				;
   179 				; Screen memory
   180 				;
   181 20EF				org $4000
   182 4000				.local sm
   183 4000-4015> 00 01 02 03 + 	.byte $00,$01,$02,$03,$04,$81,$82,$83,$84,$00,$00,$0a,$0c,$0b,$0c,$0d,$00,$8a,$8c,$8b,$8c,$8d
   184 					.endl
   185 4016				org $4100
   186 4100-4108> 00 05 06 07 + 	.byte $00,$05,$06,$07,$08,$85,$86,$87,$88
   187 4109				org $4200
   188 4200-4208> 00 01 02 03 + 	.byte $00,$01,$02,$03,$04,$81,$82,$83,$84
   189 4209				org $4300
   190 4300-4308> 00 05 06 07 + 	.byte $00,$05,$06,$07,$08,$85,$86,$87,$88
   191 					
   192 4309				org $6500
   193 					;.local text	
   194 6500-650B> 34 65 73 74 + text	.byte "Test of text"
   195 					
   196 						
   197 				;
   198 				; Character sets
   199 				;
   200 650C				org $7000
   201 7000				.local chset0
   202 7000-706E> 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00
   203
   204
   205 7008 00				.byte %00000000
   206 7009 00				.byte %00000000
   207 700A 00				.byte %00000000
   208 700B 00				.byte %00000000
   209 700C 01				.byte %00000001
   210 700D 07				.byte %00000111
   211 700E 1F				.byte %00011111
   212 700F 7F				.byte %01111111
   213
   214
   215 7010 01				.byte %00000001
   216 7011 07				.byte %00000111
   217 7012 1F				.byte %00011111
   218 7013 7F				.byte %01111111
   219 7014 FF				.byte %11111111
   220 7015 FF				.byte %11111111
   221 7016 FF				.byte %11111111
   222 7017 FE				.byte %11111110
   223
   224 7018 40				.byte %01000000
   225 7019 D0				.byte %11010000
   226 701A F4				.byte %11110100
   227 701B FD				.byte %11111101
   228 701C FF				.byte %11111111
   229 701D FF				.byte %11111111
   230 701E FF				.byte %11111111
   231 701F BF				.byte %10111111
   232
   233 7020 00				.byte %00000000
   234 7021 00				.byte %00000000
   235 7022 00				.byte %00000000
   236 7023 00				.byte %00000000
   237 7024 40				.byte %01000000
   238 7025 D0				.byte %11010000
   239 7026 F4				.byte %11110100
   240 7027 FD				.byte %11111101
   241
   242 7028 7F				.byte %01111111
   243 7029 1F				.byte %00011111
   244 702A 07				.byte %00000111
   245 702B 01				.byte %00000001
   246 702C 00				.byte %00000000
   247 702D 00				.byte %00000000
   248 702E 00				.byte %00000000
   249 702F 00				.byte %00000000
   250
   251 7030 FE				.byte %11111110
   252 7031 FF				.byte %11111111
   253 7032 FF				.byte %11111111
   254 7033 FF				.byte %11111111
   255 7034 7F				.byte %01111111
   256 7035 1F				.byte %00011111
   257 7036 07				.byte %00000111
   258 7037 01				.byte %00000001
   259
   260 7038 BF				.byte %10111111
   261 7039 FF				.byte %11111111
   262 703A FF				.byte %11111111
   263 703B FF				.byte %11111111
   264 703C FD				.byte %11111101
   265 703D F4				.byte %11110100
   266 703E D0				.byte %11010000
   267 703F 40				.byte %01000000
   268
   269 7040 FD				.byte %11111101
   270 7041 F4				.byte %11110100
   271 7042 D0				.byte %11010000
   272 7043 40				.byte %01000000
   273 7044 00				.byte %00000000
   274 7045 00				.byte %00000000
   275 7046 00				.byte %00000000
   276 7047 00				.byte %00000000
   277 					
   278 					; #9 grass
   279
   280 7048 44				.byte %01000100
   281 7049 44				.byte %01000100
   282 704A 11				.byte %00010001
   283 704B 11				.byte %00010001
   284 704C 44				.byte %01000100
   285 704D 44				.byte %01000100
   286 704E 11				.byte %00010001
   287 704F 11				.byte %00010001
   288
   289 				; 10-13 cloud1
   290
   291 7050 05				.byte %00000101
   292 7051 1F				.byte %00011111
   293 7052 7F				.byte %01111111
   294 7053 7F				.byte %01111111
   295 7054 7F				.byte %01111111
   296 7055 7F				.byte %01111111
   297 7056 1F				.byte %00011111
   298 7057 05				.byte %00000101
   299
   300 				; 11
   301 7058 41				.byte %01000001
   302 7059 D7				.byte %11010111
   303 705A F7				.byte %11110111
   304 705B FF				.byte %11111111
   305 705C FF				.byte %11111111
   306 705D F7				.byte %11110111
   307 705E D7				.byte %11010111
   308 705F 41				.byte %01000001
   309 				; 12
   310 7060 55				.byte %01010101
   311 7061 FF				.byte %11111111
   312 7062 DF				.byte %11011111
   313 7063 FF				.byte %11111111
   314 7064 FF				.byte %11111111
   315 7065 F7				.byte %11110111
   316 7066 FF				.byte %11111111
   317 7067 55				.byte %01010101
   318 				; 13
   319 7068 50				.byte %01010000
   320 7069 F4				.byte %11110100			
   321 706A FD				.byte %11111101
   322 706B FD				.byte %11111101
   323 706C FD				.byte %11111101
   324 706D F4				.byte %11110100
   325 706E 50				.byte %01010000
   326 					
   327
   328 					.endl
   329 706F				org $7400
   330 7400				.local chset1
   331 					.endl
   332 7400				org $7800
   333 7800				.local chset2
   334 7800				org $8200
   335 					.endl
   336 8200				.local chset3
   337 8200				org $8600
   338 					.endl
   339 					

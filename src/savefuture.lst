mads 2.1.0
Source: /Users/johan/Documents/workspace/CodeJam2021/src/savefuture.asm
     1 				;
     2 				; OLC CodeJam 2021- Save the Future
     3 				;
     4 				; For the Atari 8-bit computers (64kB needed)
     5 				;
     6 				; Coded by: sjfroos
     7 				;
     8 				; Adresses needed
     9 				;
    10 = D40B			VCOUNT=$d40b
    11 = D40A			WSYNC=$d40a
    12 = E462			XITVBV=$e462
    13 = D404			HSCRL=$d404
    14 = E45C			SETVBV=$e45c
    15 = 02C4			COLOR0=708
    16 = 02C5			COLOR1=709
    17 = 02C6			COLOR2=710
    18 = 02C7			COLOR3=711
    19 = 02C8			COLOR4=712
    20 = 02F4			CHBAS=756
    21 = D016			COLPF0=$d016
    22 = D017			COLPF1=$d017
    23 = D018			COLPF2=$d018
    24 = D019			COLPF3=$d019
    25 = D01A			COLBK=$d01a
    26 = D409			CHBASE=$d409
    27 = D40E			NMIEN=$d40e
    28 				;
    29 				; Start adress
    30 				;
    31 					org $2000
    32
    33 				;
    34 				; Init
    35 				;
    36
    37 				start
    38 				; 	Load display list
    39 FFFF> 2000-2039> A9 C3		lda #<dl
    40 2002 8D 30 02			sta $230
    41 2005 A9 20			lda #>dl
    42 2007 8D 31 02			sta $231
    43 					; wide playfield
    44 					;lda #35
    45 					;sta $22f
    46 200A A9 00			lda #0
    47 200C 8D 04 D4			sta HSCRL
    48
    49 					; Character set at $7000
    50 200F A9 70			lda #$70
    51 2011 8D F4 02			sta CHBAS
    52
    53 					; set colors
    54 					
    55 2014 A9 88			lda #$88
    56 2016 8D C8 02			sta COLOR4
    57
    58 2019 A9 09			lda #$09
    59 201B 8D C4 02			sta COLOR0
    60 					
    61 201E A9 0F			lda #$0f
    62 2020 8D C6 02			sta COLOR2 
    63
    64 2023 A9 06			lda #$06
    65 2025 8D C7 02			sta COLOR3
    66 					
    67 					; Set DLI
    68 2028 A9 3A			lda #<dli
    69 202A 8D 00 02			sta $200
    70 202D A9 20			lda #>dli
    71 202F 8D 01 02			sta $201
    72 2032 A9 CF			lda #$CF
    73 2034 8D 0E D4			sta $d40e
    74 					
    75
    76 2037 4C 37 20		stop	jmp stop	
    77
    78 				;
    79 02E0-02E1> 00 20			run start	
    80 				;
    81 				; VBI routine
    82 				;
    83
    84
    85 				;
    86 				; DLI Routines
    87 				;
    88 203A-2111> 48		dli	pha
    89 203B A9 4E			lda #$4e
    90 203D 8D 0A D4			sta WSYNC
    91 2040 8D 1A D0			sta COLBK
    92 2043 A9 4F			lda #<dli2
    93 2045 8D 00 02			sta $200
    94 2048 A9 20			lda #>dli2
    95 204A 8D 01 02			sta $201
    96 204D 68				pla
    97 204E 40				rti
    98
    99 204F 48			dli2	pha
   100 2050 A9 4C			 	lda #$4c
   101 2052 8D 0A D4			 	sta WSYNC
   102 2055 8D 1A D0			 	sta COLBK
   103 2058 A9 64				lda #<dli3
   104 205A 8D 00 02				sta $200
   105 205D A9 20				lda #>dli3
   106 205F 8D 01 02				sta $201
   107 2062 68				 	pla 
   108 2063 40				 	rti
   109
   110 2064 48			dli3	pha
   111 2065 A9 4A			 	lda #$4a
   112 2067 8D 0A D4			 	sta WSYNC
   113 206A 8D 1A D0			 	sta COLBK
   114 206D A9 79				lda #<dli4
   115 206F 8D 00 02				sta $200
   116 2072 A9 20				lda #>dli4
   117 2074 8D 01 02				sta $201
   118 2077 68				 	pla 
   119 2078 40				 	rti
   120
   121 2079 48			dli4	pha
   122 207A A9 48			 	lda #$48
   123 207C 8D 0A D4			 	sta WSYNC
   124 207F 8D 1A D0			 	sta COLBK
   125 2082 A9 8E				lda #<dli5
   126 2084 8D 00 02				sta $200
   127 2087 A9 20				lda #>dli5
   128 2089 8D 01 02				sta $201
   129 208C 68				 	pla 
   130 208D 40				 	rti
   131
   132 208E 48			dli5	pha
   133 208F A9 D4			 	lda #$d4
   134 2091 8D 0A D4			 	sta WSYNC
   135 2094 8D 1A D0			 	sta COLBK
   136 2097 A9 A3				lda #<dli6
   137 2099 8D 00 02				sta $200
   138 209C A9 20				lda #>dli6
   139 209E 8D 01 02				sta $201
   140 20A1 68				 	pla 
   141 20A2 40				 	rti
   142
   143 20A3 48			dli6	pha
   144 20A4 A9 00			 	lda #$00
   145 20A6 8D 0A D4			 	sta WSYNC
   146 20A9 8D 1A D0			 	sta COLBK
   147 20AC A9 48			 	lda #$48
   148 20AE 8D 16 D0			 	sta COLPF0
   149 20B1 A9 E0			 	lda #$E0
   150 20B3 8D 09 D4			 	sta CHBASE
   151 20B6 A9 3A				lda #<dli
   152 20B8 8D 00 02				sta $200
   153 20BB A9 20				lda #>dli
   154 20BD 8D 01 02				sta $201
   155 20C0 68				 	pla 
   156 20C1 40				 	rti
   157
   158 20C2 00			atch 	.byte $00
   159 				;-----------------------------
   160 				; Data	
   161 				;-----------------------------
   162 				; Display List
   163 				;
   164 20C3				.local dl
   165 20C3 70				.byte $70
   166 20C4 45 00 40		lms00	.byte $45,$00,$40
   167 20C7 45 00 41		lms01	.byte $45,$00,$41
   168 20CA 44 00 42		lms02	.byte $44,$00,$42
   169 20CD 44 00 43		lms03	.byte $44,$00,$43
   170 20D0 44 00 44		lms04	.byte $44,$00,$44
   171 20D3 44 00 45		lms05	.byte $44,$00,$45
   172 20D6 E4 00 46		lms06	.byte $E4,$00,$46
   173 20D9 E4 00 47		lms07	.byte $E4,$00,$47
   174 20DC E4 00 48		lms08	.byte $E4,$00,$48
   175 20DF E4 00 49		lms09	.byte $E4,$00,$49
   176 20E2 E4 00 50		lms10	.byte $E4,$00,$50
   177 20E5 44 00 51		lms11	.byte $44,$00,$51
   178 20E8 44 00 52		lms12	.byte $44,$00,$52
   179 20EB 44 00 53		lms13	.byte $44,$00,$53
   180 20EE 44 00 54		lms14	.byte $44,$00,$54
   181 20F1 44 00 55		lms15	.byte $44,$00,$55
   182 20F4 44 00 56		lms16	.byte $44,$00,$56
   183 20F7 44 00 57		lms17	.byte $44,$00,$57
   184 20FA 44 00 58		lms18	.byte $44,$00,$58
   185 20FD 44 00 60		lms19	.byte $44,$00,$60
   186 2100 44 00 61		lms20	.byte $44,$00,$61
   187 2103 44 00 62		lms21	.byte $44,$00,$62
   188 2106 44 00 63		lms22	.byte $44,$00,$63
   189 2109 D4 00 64		lms23	.byte $D4,$00,$64
   190 210C 46 00 65		txt		.byte $46,$00,$65
   191 210F 41 C3 20				.byte $41,a(dl)
   192 					.endl
   193 				;
   194 				; Screen memory
   195 				;
   196 2112				org $4000
   197 4000				.local sm
   198 4000-4015> 00 01 02 03 + 	.byte $00,$01,$02,$03,$04,$81,$82,$83,$84,$00,$00,$0a,$0c,$0b,$0c,$0d,$00,$8a,$8c,$8b,$8c,$8d
   199 					.endl
   200 4016				org $4100
   201 4100-4108> 00 05 06 07 + 	.byte $00,$05,$06,$07,$08,$85,$86,$87,$88
   202 4109				org $4200
   203 4200-4208> 00 01 02 03 + 	.byte $00,$01,$02,$03,$04,$81,$82,$83,$84
   204 4209				org $4300
   205 4300-4308> 00 05 06 07 + 	.byte $00,$05,$06,$07,$08,$85,$86,$87,$88
   206 					
   207 4309				org $6500
   208 					;.local text	
   209 6500-6510> 00 00 33 61 + text	.byte "  Save the Future"
   210 					
   211 						
   212 				;
   213 				; Character sets
   214 				;
   215 6511				org $7000
   216 7000				.local chset0
   217 7000-706E> 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00
   218
   219
   220 7008 00				.byte %00000000
   221 7009 00				.byte %00000000
   222 700A 00				.byte %00000000
   223 700B 00				.byte %00000000
   224 700C 01				.byte %00000001
   225 700D 07				.byte %00000111
   226 700E 1F				.byte %00011111
   227 700F 7F				.byte %01111111
   228
   229
   230 7010 01				.byte %00000001
   231 7011 07				.byte %00000111
   232 7012 1F				.byte %00011111
   233 7013 7F				.byte %01111111
   234 7014 FF				.byte %11111111
   235 7015 FF				.byte %11111111
   236 7016 FF				.byte %11111111
   237 7017 FE				.byte %11111110
   238
   239 7018 40				.byte %01000000
   240 7019 D0				.byte %11010000
   241 701A F4				.byte %11110100
   242 701B FD				.byte %11111101
   243 701C FF				.byte %11111111
   244 701D FF				.byte %11111111
   245 701E FF				.byte %11111111
   246 701F BF				.byte %10111111
   247
   248 7020 00				.byte %00000000
   249 7021 00				.byte %00000000
   250 7022 00				.byte %00000000
   251 7023 00				.byte %00000000
   252 7024 40				.byte %01000000
   253 7025 D0				.byte %11010000
   254 7026 F4				.byte %11110100
   255 7027 FD				.byte %11111101
   256
   257 7028 7F				.byte %01111111
   258 7029 1F				.byte %00011111
   259 702A 07				.byte %00000111
   260 702B 01				.byte %00000001
   261 702C 00				.byte %00000000
   262 702D 00				.byte %00000000
   263 702E 00				.byte %00000000
   264 702F 00				.byte %00000000
   265
   266 7030 FE				.byte %11111110
   267 7031 FF				.byte %11111111
   268 7032 FF				.byte %11111111
   269 7033 FF				.byte %11111111
   270 7034 7F				.byte %01111111
   271 7035 1F				.byte %00011111
   272 7036 07				.byte %00000111
   273 7037 01				.byte %00000001
   274
   275 7038 BF				.byte %10111111
   276 7039 FF				.byte %11111111
   277 703A FF				.byte %11111111
   278 703B FF				.byte %11111111
   279 703C FD				.byte %11111101
   280 703D F4				.byte %11110100
   281 703E D0				.byte %11010000
   282 703F 40				.byte %01000000
   283
   284 7040 FD				.byte %11111101
   285 7041 F4				.byte %11110100
   286 7042 D0				.byte %11010000
   287 7043 40				.byte %01000000
   288 7044 00				.byte %00000000
   289 7045 00				.byte %00000000
   290 7046 00				.byte %00000000
   291 7047 00				.byte %00000000
   292 					
   293 					; #9 grass
   294
   295 7048 44				.byte %01000100
   296 7049 44				.byte %01000100
   297 704A 11				.byte %00010001
   298 704B 11				.byte %00010001
   299 704C 44				.byte %01000100
   300 704D 44				.byte %01000100
   301 704E 11				.byte %00010001
   302 704F 11				.byte %00010001
   303
   304 				; 10-13 cloud1
   305
   306 7050 05				.byte %00000101
   307 7051 1F				.byte %00011111
   308 7052 7F				.byte %01111111
   309 7053 7F				.byte %01111111
   310 7054 7F				.byte %01111111
   311 7055 7F				.byte %01111111
   312 7056 1F				.byte %00011111
   313 7057 05				.byte %00000101
   314
   315 				; 11
   316 7058 41				.byte %01000001
   317 7059 D7				.byte %11010111
   318 705A F7				.byte %11110111
   319 705B FF				.byte %11111111
   320 705C FF				.byte %11111111
   321 705D F7				.byte %11110111
   322 705E D7				.byte %11010111
   323 705F 41				.byte %01000001
   324 				; 12
   325 7060 55				.byte %01010101
   326 7061 FF				.byte %11111111
   327 7062 DF				.byte %11011111
   328 7063 FF				.byte %11111111
   329 7064 FF				.byte %11111111
   330 7065 F7				.byte %11110111
   331 7066 FF				.byte %11111111
   332 7067 55				.byte %01010101
   333 				; 13
   334 7068 50				.byte %01010000
   335 7069 F4				.byte %11110100			
   336 706A FD				.byte %11111101
   337 706B FD				.byte %11111101
   338 706C FD				.byte %11111101
   339 706D F4				.byte %11110100
   340 706E 50				.byte %01010000
   341 					
   342
   343 					.endl
   344 706F				org $7400
   345 7400				.local chset1
   346 					.endl
   347 7400				org $7800
   348 7800				.local chset2
   349 7800				org $8200
   350 					.endl
   351 8200				.local chset3
   352 8200				org $8600
   353 					.endl
   354 					
